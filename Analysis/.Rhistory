setwd("~/ADNUF/Analyze")
input <- read.csv("~/ADNUF/Scripts/fundaInventory_all_threading_20150620.csv")
input <- read.csv("~/ADNUF/Scripts/fundaInventory_all_threading_20150620.csv",
sep = "|")
str(input)
min(input$date_of_sale)
unique(input$date_of_sale)
date <- input$date_of_sale
date <- as.Date(input$date_of_sale)
?as.Date
date <- as.Date(input$date_of_sale, "%m/%d/%Y")
min(date), max(date)
min(date); max(date)
unique(date)
date <- date[order(date)]
date
unique(date)
input$date <- as.Date(input$date_of_sale, "%m/%d/%Y")
?spplay
?sapply
?aggregate
str(input)
aggregate(price~date, data = input, count)
aggregate(price~date, data = input, sum)
aggregate(input$price, by=input$date, FUN=sum)
aggregate(input$price, by=list(input$date), FUN=sum)
aggregate(input$price, by=list(input$date), FUN=count)
aggregate(input$price, by=list(input$date), FUN=function(x){NROW(x)})
s <- aggregate(input$price, by=list(input$date), FUN=function(x){NROW(x)})
str(s)
plot(s)
setwd("~/ADNUF/Analyze")
input <- read.csv("~/ADNUF/Scripts/fundaInventory_all_threading_20150620.csv",
sep = "|")
str(input)
date <- as.Date(input$date_of_sale, "%m/%d/%Y")
date <- date[order(date)]
input$date <- as.Date(input$date_of_sale, "%m/%d/%Y")
s <- aggregate(input$price, by=list(input$date), FUN=function(x){NROW(x)})
str(s)
plot(s)
str(input)
summary(input$type)
verkocht <- subset(input, type == "verkocht")
describe(verkocht)
library(psych)
install.packages("psych")
library(psych)
describe(verkocht)
?describe.by
describe.by(verkocht, group = hood)
describe.by(verkocht, group = "hood")
describe(verkocht)
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
?qplot
str(verkocht)
summary(verkocht)
str(verkocht)
qplot(x=date, y=(price/living_area), data = verkocht)
qplot(x=date, y=(verkocht$price/verkocht$living_area), data = verkocht)
qplot(x=verkocht$date, y=(verkocht$price/verkocht$living_area))
qplot(x=living_area, y = price, data = verkocht)
str(living_area)
str(verkocht$living_area)
verkocht$living_area <- as.numeric(verkocht$living_area)
str(verkocht$living_area)
qplot(x=living_area, y = price, data = verkocht)
str(verkocht)
qplot(x=living_area, y = price, data = verkocht, colour = type_of_apartment)
qplot(x=living_area, y = price, data = verkocht, group = type_of_apartment)
?qplot
qplot(x=living_area, y = price, data = verkocht, colour = type_of_apartment)
describe(verkocht$type_of_property)
describe(verkocht$type_of_apartment)
summary(verkocht$type_of_property)
qplot(x=living_area, y = price, data = verkocht, colour = type_of_property)
summary(verkocht$type_of_apartment)
split("abs asd")
?splot
?split
?strsplit
strsplit("asdds sdf")
strsplit("asdds sdf", split = " ")
strsplit("asdds", split = " ")
verkocht$type_of_apartment_short <- strsplit(verkocht$type_of_apartment, split = " ")[[1]]
qplot(x=living_area, y = price, data = verkocht, colour = hood)
verkocht$pps <- verkocht$price / verkocht$living_area
str(verkocht$pps)
head(verkocht, 100)
df <- subset(verkocht, pps < 600)
View(df)
subset(input, address = "Papendrechtstraat 69 1106 BN Amsterdam")
subset(input, address == "Papendrechtstraat 69 1106 BN Amsterdam")
d2 <- subset(input, address == "Papendrechtstraat 69 1106 BN Amsterdam")
str(d2)
d2
View(d2)
v2 <- subset(verkocht, address == "Papendrechtstraat 69 1106 BN Amsterdam")
View(v2)
verkocht <- subset(input, type == "verkocht")
v2 <- subset(verkocht, address == "Papendrechtstraat 69 1106 BN Amsterdam")
View(v2)
str(v2)
verkocht$living_area <- as.character(verkocht$living_area)
verkocht$living_area <- as.numeric(verkocht$living_area)
v2 <- subset(verkocht, address == "Papendrechtstraat 69 1106 BN Amsterdam")
View(v2)
str(v2)
qplot(x=living_area, y = price, data = verkocht)
verkocht$pps <- verkocht$price / verkocht$living_area
qplot(verkocht$pps)
fit <- glm(pps ~ ., data = verkocht, family = "gaussian")
fit <- glm(pps ~ ., data = verkocht, family = "gaussian")
library(caret)
?train
install.packages(("caret"))
?train
library(caret)
?train
fit <- train(pps ~ ., data = verkocht, method = "glm")
fit <- train(pps ~ ., data = verkocht, method = "rpart")
str(verkocht)
View(verkocht)
qplot(x=type_of_property, y = pps, data = verkocht)
qplot(x=year_of_construction, y = pps, data = verkocht)
qplot(x=number_rooms, y = pps, data = verkocht)
qplot(x=number_of_bathrooms, y = pps, data = verkocht)
qplot(x=hood, y = pps, data = verkocht)
?aggregate
aggregate(pps, by = hood, FUN = mean)
aggregate(pps, by = hood, data = verkocht, FUN = mean)
aggregate(verkocht$pps, by = verkocht$hood, FUN = mean)
verkocht$hood
aggregate(verkocht$pps, by = verkocht$hood, FUN = sum)
aggregate(pps ~ hood, data = verkocht, FUN = sum)
View(aggregate(pps ~ hood, data = verkocht, FUN = sum))
View(aggregate(pps ~ hood, data = verkocht, FUN = function(x){c(sum(x), count(x))}))
View(aggregate(pps ~ hood, data = verkocht, FUN = function(x){c(sum(x), nrow(x))}))
d <- aggregate(pps ~ hood, data = verkocht, FUN = function(x){c(sum(x), nrow(x))})
str(d)
d <- aggregate(pps ~ hood, data = verkocht, FUN = function(x){c(mean = mean(x), count = nrow(x))})
str(d)
View(d)
d <- aggregate(pps ~ hood, data = verkocht, FUN = function(x) {c(MEAN = mean(x), COUNT = nrow(x))})
str(d)
View(d)
install.packages("sqldf")
library(sqldf)
input <- read.csv("~/ADNUF/Scripts/fundaInventory_all_threading_20150815.csv",
sep = "|")
str(input)
date <- as.Date(input$date_of_sale, "%m/%d/%Y")
date <- date[order(date)]
input$date <- as.Date(input$date_of_sale, "%m/%d/%Y")
s <- aggregate(input$price, by=list(input$date), FUN=function(x){NROW(x)})
str(s)
plot(s)
verkocht <- subset(input, type == "verkocht")
describe(verkocht)
verkocht$living_area <- as.character(verkocht$living_area)
verkocht$living_area <- as.numeric(verkocht$living_area)
qplot(x=living_area, y = price, data = verkocht)
verkocht$pps <- verkocht$price / verkocht$living_area
d <- aggregate(pps ~ hood, data = verkocht, FUN = function(x) {c(MEAN = mean(x), COUNT = nrow(x))})
str(d)
View(d)
sqldf("
select hood, avg(pps), count(pps)
FROM verkocht
")
sqldf("
select hood, avg(pps), count(pps)
FROM verkocht
group by 1 order by 2 desc
")
t <- sqldf("
select hood, avg(pps), count(pps)
FROM verkocht
group by 1 order by 2 desc
")
View(t)
write.csv(t, file = "ppsByHood.csv", row.names = FALSE)
str(verkocht)
qplot(x=living_area, y = price, data = verkocht, colour = hood_avg_property_value)
qplot(x=living_area, y = price, data = verkocht, colour = type_of_property)
qplot(x=living_area, y = price, data = verkocht, colour = energy_label)
qplot(x=living_area, y = price, data = verkocht, colour = height)
qplot(x=living_area, y = price, data = verkocht, colour = balcony)
?strsplit
verkocht$type_of_apartment_short <- strsplit(verkocht$type_of_apartment, split=" ")[[1]]
verkocht$type_of_apartment_short <- strsplit(verkocht$type_of_apartment, split="")[[1]]
str(verkocht$type_of_apartment)
verkocht$type_of_apartment <- as.character(verkocht$type_of_apartment)
verkocht$type_of_apartment_short <- strsplit(verkocht$type_of_apartment, split=" ")[[1]]
head(verkocht$type_of_apartment_short)
qplot(x=living_area, y = price, data = verkocht, colour = type_of_apartment_short)
head(cbind(verkocht$type_of_apartment, verkocht$type_of_apartment_short))
s<- verkocht$type_of_apartment
head(s)
l <- strsplit(verkocht$type_of_apartment, split = " ")
head(l)
l[1]
l[[1]
l[[1]]
l[[1]]
l2 <- data.frame(l)
l <- strsplit(verkocht$type_of_apartment, split = " ")
head(l)
?seq_along
seq <- seq_along(s)
s
seq
qplot(x=living_area, y = price, data = verkocht, colour = hood)
qplot(x=living_area, y = price, data = verkocht)
?qplot
t_2015 <- sqldf("
select hood, avg(ifpps), count(pps)
FROM verkocht
WHERE date > '2015-01-01'
group by 1 order by 2 desc
")
t_2014 <- sqldf("
select hood, avg(pps), count(pps)
FROM verkocht
WHERE date <= '2015-01-01'
group by 1 order by 2 desc
")
t_2015 <- sqldf("
select hood, avg(pps) AS pps, count(pps) AS count
FROM verkocht
WHERE date > '2015-01-01'
group by 1 order by 2 desc
")
t_2014 <- sqldf("
select hood, avg(pps) AS pps, count(pps) AS count
FROM verkocht
WHERE date <= '2015-01-01'
group by 1 order by 2 desc
")
t <- merge(t_2015, t_2014, by = hood)
t <- merge(t_2015, t_2014, by = "hood")
write.csv(t, file = "ppsByHood.csv", row.names = FALSE)
str(verkocht)
head(t_2015)
t_2015 <- sqldf("
select hood, avg(pps) AS pps, count(pps) AS count
FROM verkocht
WHERE date > as.Date('2015-01-01')
group by 1 order by 2 desc
")
str(date_of_sale)
v2015 <- subset(verkocht, date > "2015-01-01")
str(v2015)
verkocht2015 <- subset(verkocht, date >= "2015-01-01")
verkocht2014 <- subset(verkocht, date < "2015-01-01")
t_2015 <- sqldf("
select hood, avg(pps) AS pps, count(pps) AS count
FROM verkocht2015
group by 1 order by 2 desc
")
t_2014 <- sqldf("
select hood, avg(pps) AS pps, count(pps) AS count
FROM verkocht2014
group by 1 order by 2 desc
")
t <- merge(t_2015, t_2014, by = "hood")
head(t)
write.csv(t, file = "ppsByHood.csv", row.names = FALSE)
